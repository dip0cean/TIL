# Spring MVC

- 어노테이션 기반
    - RequestMapping
        - `@GetMapping`
        - `@PostMapping`
        - ...
    - HandlerMethod
        - `@ModelAttribute`
        - `@RequestParam`
        - ...
    - `@ExceptionHandler`
    - Global Controller
        - `@ControllerAdvice`

## HandlerMethod

### @RequestMapping

- 클라이언트 요청에 대한 HTTP Method 와 URI 를 확인하고 맵핑된 핸들러로 연결해주는 어노테이션이다.
- GET, POST, PUT, PATCH, DELETE  같은 HTTP Method 를 지원하고, 별도로 파라미터를 설정하거나 URI 를 지정할 수 있다.
    - 여러 HTTP Method 를 적용하고 싶다면 배열을 이용해 설정한다.

```java
@RequestMapping(method = RequestMethod.GET, value = "/requestMapping")
@ResponseBody
public String requestMapping() {
    return "requestMapping!";
}

@RequestMapping(method = {RequestMethod.POST, RequestMethod.PUT}, value = "/requestMapping")
public String requestMapping(@RequestParam("word") String word) {
    return word;
}
```

- 컨트롤러에 `@RequestMapping` 어노테이션을 설정하면 해당 컨트롤러의 하위에 있는 모든 핸들러 메소드가 컨트롤러에 설정된 `@RequestMapping` 에 의해 HTTP Method 가 통일되거나 URI 기준을 통합 할 수 있다.

```java
@Controller
@RequestMapping(value = "/handlerMethod", method = RequestMethod.GET)
public class HandlerMethodController {
	...
}
```

### @xxxMapping

- xxxMapping 으로 된 어노테이션들은 내부적으로 HTTP Method 값이 설정된 @RequestMapping 어노테이션이 설정되어 있다.

```java
@Target(ElementType.METHOD)
@Retention(RetentionPolicy.RUNTIME)
@Documented
@RequestMapping(method = RequestMethod.GET)
public @interface GetMapping {
	...
}
```

## HTTP Method

### GET

- 클라이언트가 서버의 리소스를 요청할 때 사용한다.
- 캐싱 처리가 가능하며 브라우저에 기록하거나 북마크로 저장할 수 있다.
- 파라미터를 통해서만 데이터를 전달할 수 있기 때문에 민감한 데이터를 보낼 때 지양하는 것이 좋다.
- ***Idempotent***

### POST

- 클라이언트가 서버의 리소스를 수정하거나 새로 만들 때 사용한다.
- 서버에 보내는 데이터를 POST 요청 본문에 담는다. (@RequestBody)
- 캐싱 처리는 할 수 없으며, 브라우저나 북마크에 기록할 수 없다.
- 데이터 길이 제한이 없으며, ***Idempotent 하지 못하다.***
- ***POST 의 URI 는 보내는 데이터를 처리할 리소스를 지칭한다.***

### PUT

- URI 에 해당하는 데이터를 새로 만들거나 수정할 때 사용한다.
- ***PUT 의 URI 는 보내는 데이터에 해당하는 리소스를 지칭한다.***
- ***Idempotent***

### PATCH

- PUT 과 비슷하지만, 기존 엔티티와 새 데이터의 차이점만 보내는 차이가 있다.
- ***Idempotent***

### DELETE

- URI 에 해당하는 리소스를 삭제할 때 사용한다.
- ***Idempotent***